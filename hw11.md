# üß† –¢–∏–ø—ã –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è –≤ TypeScript ‚Äî Conditional Types –∏ Mapped Types –≤ –ø—Ä–æ–µ–∫—Ç–µ budget-tracker-cli

## üéØ –¶–µ–ª—å

–û—Å–≤–æ–∏—Ç—å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ TypeScript ‚Äî Conditional Types –∏ Mapped Types ‚Äî –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –±—é–¥–∂–µ—Ç–æ–º.

---

## üì¶ –ó–∞–¥–∞—á–∞: –°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏

–í –ø—Ä–æ–µ–∫—Ç–µ budget-tracker-cli –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞–±–æ—Ä —Ç–∏–ø–æ–≤—ã—Ö —É—Ç–∏–ª–∏—Ç –¥–ª—è –≥–∏–±–∫–æ–π —Ä–∞–±–æ—Ç—ã —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –∏—Ö —Å–≤–æ–π—Å—Ç–≤–∞–º–∏.

---

### 1. –°–æ–∑–¥–∞–π—Ç–µ —É—Å–ª–æ–≤–Ω—ã–π —Ç–∏–ø `TransactionFieldType<TField>` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏:

- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `TField` ‚Äî –∫–ª—é—á –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `ITransaction`;
- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è `ITransaction[TField]`;
- –µ—Å–ª–∏ `TField` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–æ–º `ITransaction`, —Ç–∏–ø –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `never`.

---

### 2. –°–æ–∑–¥–∞–π—Ç–µ mapped type `OptionalTransaction<TFields>`, –∫–æ—Ç–æ—Ä—ã–π:

- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `TFields` ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π `ITransaction`;
- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∏–ø, –≥–¥–µ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—è `TFields` –∏–∑ `ITransaction` —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ (`?`), –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏.
–ù–∞–ø—Ä–∏–º–µ—Ä, `OptionalTransaction<'description' | 'date'>` ‚Äî —ç—Ç–æ —Ç–∏–ø, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–æ–ª—è `description` –∏ `date` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.

---

### 3. –°–æ–∑–¥–∞–π—Ç–µ mapped type `ReadonlyTransactionFields<TFields>`, –∫–æ—Ç–æ—Ä—ã–π:

- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `TFields` ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π `ITransaction`;
- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∏–ø, –≤ –∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—è `TFields` —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (`readonly`), –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

### 4. –°–æ–∑–¥–∞–π—Ç–µ —É—Å–ª–æ–≤–Ω—ã–π —Ç–∏–ø `IsIncome<T>`, –∫–æ—Ç–æ—Ä—ã–π:

- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–∏–ø `T`;
- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∏–ø `true`, –µ—Å–ª–∏ `T` —Ä–∞—Å—à–∏—Ä—è–µ—Ç `{ type: 'income' }`, –∏–Ω–∞—á–µ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `false`.

---

### 5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã

- –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–∏—Ö —Ç–∏–ø–æ–≤ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ –∏ —Ç–∏–ø–∞–º–∏ –∏–∑ `ITransaction`.
- –ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ, –∫–∞–∫ —Å –∏—Ö –ø–æ–º–æ—â—å—é –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Ä–∞–±–æ—Ç—ã —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.

<details>
<summary>–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</summary>

```ts
type AmountType = TransactionFieldType<'amount'>; // number
type UnknownType = TransactionFieldType<'unknown'>; // never

type TransactionWithOptionalDescAndDate = OptionalTransaction<'description' | 'date'>;
type TransactionReadonlyIdAndType = ReadonlyTransactionFields<'id' | 'type'>;

type CheckIncome1 = IsIncome<{ type: 'income'; amount: number }>;
type CheckIncome2 = IsIncome<{ type: 'expense'; amount: number }>;
type CheckIncome3 = IsIncome<ITransaction>; // false (—Ç.–∫. type –º–æ–∂–µ—Ç –±—ã—Ç—å income | expense)
```

</details>

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ 

```
budget-tracker-cli/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ interfaces/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TransactionType.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ITransaction.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IAccount.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ISummary.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IAccountManager.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utility-types.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mapped-types.ts
‚îÇ   ‚îú‚îÄ‚îÄ classes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Transaction.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Account.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AccountManager.ts
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ budget-utils.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ budget-utils.d.ts
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ escapeCsvValue.ts
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îú‚îÄ‚îÄ dist/
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ README.md
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è:

- –í—Å–µ —Ç–∏–ø—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Conditional Types –∏ Mapped Types.
- –¢–∏–ø—ã —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–ø–∏—Å–∞–Ω–∏—é.
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤.
- –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.

---
